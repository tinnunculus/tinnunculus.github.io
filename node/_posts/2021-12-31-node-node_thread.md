---
layout: post
title: node for server
sitemap: false
---

**참고**  
[1] <https://thebook.io/080229/ch01/02/>  
* * *  

* toc
{:toc}

## 싱글 스레드, 논 블로킹
> * 노드를 실행하면 기본적으로 프로세스가 하나 실행되고, 여러 스레드들이 생성된다. 이 중에서 메인으로 사용하는 스레드는 하나이다. 백그라운드는 별도의 스레드를 사용한다.
> * 메인 스레드는 하나이기 때문에 논 블로킹 프로그램을 만들었다고 해도 기본적으로는 동시에 실행되지 않는다.
> * 노드는 CPU가 부하가 큰 작업에는 적합하지 않다.
> * 노드는 I/O 작업을 멀티 프로세싱을 이용하여 처리하기 때문에 개수는 많지만 크기는 작은 데이터들을 실시간으로 주고 받는 태스크에 적합하다.
> * 노드에서도 스레드 풀(thread pool)을 이용해서 멀티 스레드 프로그래밍을 할 수 있다.
> * 노드는 웹 서버가 내장되어있다.
> * 멀티 스레드 기능을 가지고 있다 하더라도 cpu 부하량이 많은 작업에는 권장하지 않는다.
> <p align="center"><img width="500" src="/assets/img/node/node_thread/1.png"></p>

## 멀티 스레딩과 멀티 프로세싱
> * 멀티 스레딩은 하나의 프로세스에서 여러 개의 스레드를 생성하여 사용한다.
> * 멀티 프로세싱은 여러 개의 프로세스를 사용한다.
> * 멀티 스레딩의 장점으로는 하나의 프로세스에서 작업하기 때문에 스레드간에 메모리를 공유한다는 장점이 있다.
> * 단일 프로세스에서 CPU 작업량이 많을 때 멀티 스레딩 기법을 이용한다.
> * 메모리를 공유하지 않고 독립적은 작업에서 여러 작업을 수행해야 하는 경우 멀티 프로세싱 기법을 사용한다.
> * I/O 작업이 많은 경우 멀티 프로세싱 기법을 사용한다. 노드에서도 파일 입출력 처리를 위해 멀티 프로세싱 기법을 사용한다.